(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{57:function(e,t,a){},76:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),s=a(19),c=a.n(s),i=(a(57),a(2)),o=a(7),l=a(10),u=a(13),j=a(12),d=a(9),h=a(11),b=a(21),p=a.n(b),O=function e(){var t=this;Object(o.a)(this,e),this.signup=function(e,a,r){return t.app.post("/signup",{username:e,pwd:a,email:r})},this.login=function(e,a){return t.app.post("/login",{username:e,password:a})},this.logout=function(){return t.app.get("/logout")},this.isloggedin=function(){return t.app.get("/isloggedin")},this.map=function(){return t.app.post("/map")},this.app=p.a.create({baseURL:"".concat("https://trip-n-birra.herokuapp.com/api","/auth"),withCredentials:!0})},m=(a(76),a.p+"static/media/profile.b82e7607.png"),v=a.p+"static/media/beers.08e2b4f4.png",g=a.p+"static/media/newbar.56f85810.png",x=a.p+"static/media/logout.3e41c213.png",f=a.p+"static/media/signin.cf5d3865.png",y=a.p+"static/media/login.dd188b68.png",S=a.p+"static/media/logo.4246f4a5.png",w=a(0),U=new O,C=function(e){var t=e.loggedUser,a=e.storeUser;return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("div",{className:"Navi",children:Object(w.jsxs)("div",{children:[Object(w.jsx)(h.c,{className:"NavLink",to:"/",children:Object(w.jsx)("img",{src:S,alt:"profileimg"})}),t?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(h.c,{className:"NavLink",to:"/userprofile",children:Object(w.jsx)("img",{src:m,alt:"profileimg"})}),Object(w.jsx)(h.c,{className:"NavLink",to:"/bar",children:Object(w.jsx)("img",{src:v,alt:"barlist"})}),Object(w.jsx)(h.c,{className:"NavLink",to:"/bar/new",children:Object(w.jsx)("img",{src:g,alt:"createbar"})}),Object(w.jsx)(h.c,{className:"NavLink",to:"/",onClick:function(){U.logout().then((function(e){return a(null)})).catch((function(e){return console.log(e)}))},children:Object(w.jsx)("img",{src:x,alt:"logout"})})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(h.c,{className:"NavLink",to:"/signup",children:Object(w.jsx)("img",{src:f,alt:"signup"})}),Object(w.jsx)(h.c,{className:"NavLink",to:"/login",children:Object(w.jsx)("img",{src:y,alt:"profileimg"})})]})]})})})},A=a(15),k=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),r.authService.signup(r.state.username,r.state.password,r.state.email).then((function(e){r.props.storeUser(e.data)})).catch((function(e){return console.log(e.response.data.message)}))},r.handleInputChange=function(e){var t=e.currentTarget,a=t.name,n=t.value;r.setState(Object(A.a)({},a,n))},r.state={username:"",password:"",email:""},r.authService=new O,r}return Object(l.a)(a,[{key:"render",value:function(){return Object(w.jsxs)("div",{children:[Object(w.jsx)("h2",{children:"Registrate"}),Object(w.jsx)("hr",{}),Object(w.jsx)("div",{onSubmit:this.handleSubmit,children:Object(w.jsxs)("form",{children:[Object(w.jsxs)("label",{children:[Object(w.jsx)("p",{children:"Tu nombre de usuario/a"}),Object(w.jsx)("input",{onChange:this.handleInputChange,value:this.state.username,name:"username",type:"text",placeholder:"Escribe nombre de usuario/a"})]}),Object(w.jsx)("br",{}),Object(w.jsxs)("label",{children:[Object(w.jsx)("p",{children:"Tu correo electr\xf3nico"}),Object(w.jsx)("input",{onChange:this.handleInputChange,value:this.state.email,name:"email",type:"text",placeholder:"email"})]}),Object(w.jsx)("div",{children:Object(w.jsxs)("label",{children:[Object(w.jsx)("p",{children:"Contrase\xf1a"}),Object(w.jsx)("input",{onChange:this.handleInputChange,value:this.state.password,name:"password",type:"password",placeholder:"Contrase\xf1a"})]})}),Object(w.jsx)("button",{type:"submit",children:"Registrate"})]})})]})}}]),a}(r.Component),T=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),r.authService.login(r.state.username,r.state.password).then((function(e){r.props.storeUser(e.data),r.props.history.push("/")})).catch((function(e){return console.log(e.response.data.message)}))},r.handleInputChange=function(e){var t=e.currentTarget,a=t.name,n=t.value;r.setState(Object(A.a)({},a,n))},r.state={username:"",password:""},r.authService=new O,r}return Object(l.a)(a,[{key:"render",value:function(){return Object(w.jsxs)("div",{children:[Object(w.jsx)("h2",{children:"Entra a tu cuenta"}),Object(w.jsx)("hr",{}),Object(w.jsx)("div",{onSubmit:this.handleSubmit,children:Object(w.jsxs)("form",{children:[Object(w.jsxs)("label",{children:[Object(w.jsx)("p",{children:"Tu nombre de usuario/a"}),Object(w.jsx)("input",{onChange:this.handleInputChange,value:this.state.username,name:"username",type:"text",placeholder:"Escribe nombre de usuario/a"})]}),Object(w.jsx)("div",{children:Object(w.jsxs)("label",{children:[Object(w.jsx)("p",{children:"Contrase\xf1a"}),Object(w.jsx)("input",{onChange:this.handleInputChange,value:this.state.pwd,name:"password",type:"password",placeholder:"Contrase\xf1a"})]})}),Object(w.jsx)("button",{type:"submit",children:"Entrar"})]})})]})}}]),a}(r.Component),E=a(52),I=a(51),L=function e(){var t=this;Object(o.a)(this,e),this.getAllBar=function(){return t.app.get("/all")},this.getAllBarModified=function(){return t.app.get("/markers")},this.getOneBar=function(e){return t.app.get("/".concat(e))},this.createBar=function(e){return t.app.post("/new",e)},this.app=p.a.create({baseURL:"".concat("https://trip-n-birra.herokuapp.com/api","/bar"),withCredentials:!0})},R=(a(83),a.p+"static/media/mappoint.da47681c.png"),N=function(e){return Object(w.jsxs)("div",{className:"textArea",children:[Object(w.jsx)("img",{className:"mapPoint",src:R,alt:"mapBarPoint"}),Object(w.jsx)(h.b,{to:"/bar/".concat(e.barId),children:Object(w.jsx)(E.a,{variant:"primary",children:e.text})})]})},B=new L,P=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).refreshBarsModified=function(){B.getAllBarModified().then((function(t){var a=t.data;e.setState({bars:a})})).catch((function(e){return console.log(e)}))},e.updateSelectedLocation=function(t){var a=t.lat,r=t.lng;e.props.storeSelectedLocation(a,r)},e.state={bars:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.refreshBarsModified()}},{key:"render",value:function(){return Object(w.jsx)("div",{className:"mapSize",style:{height:"100vh",width:"100%"},children:Object(w.jsx)(I.a,{bootstrapURLKeys:{key:"AIzaSyAp26dh8ZtMz9K0_fGmQ-Cd30fa7REb65Q"},defaultCenter:this.props.center,defaultZoom:this.props.zoom,yesIWantToUseGoogleMapApiInternals:!0,onClick:this.updateSelectedLocation,children:this.state.bars.map((function(e){return Object(w.jsx)(N,{lat:e.lat,lng:e.lng,text:e.text,barId:e._id},e._id)}))})})}}]),a}(r.Component);P.defaultProps={mapId:"601e432217b3abef",center:{lat:40.393364243975796,lng:-3.6977601072752524},zoom:15};var D=P,F=a(88),q=a(92);a(84);var M=function(e){return Object(w.jsxs)(q.a,{className:"bar-card",style:{width:"18rem"},children:[Object(w.jsx)(q.a.Img,{variant:"top",src:e.bar.image}),Object(w.jsxs)(q.a.Body,{children:[Object(w.jsx)(q.a.Title,{children:e.bar.name}),Object(w.jsx)(q.a.Text,{children:e.bar.location.coordinates[0]}),Object(w.jsx)(q.a.Text,{children:e.bar.location.coordinates[1]}),Object(w.jsx)(h.b,{to:"/bar/".concat(e.bar._id),children:Object(w.jsx)(E.a,{variant:"primary",children:"Detalles"})})]})]})};var _=function(e){var t=e.bars;return Object(w.jsx)(w.Fragment,{children:t.map((function(e){return Object(w.jsx)(M,{bar:e},e._id)}))})},Q=new L,V=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).refreshBars=function(){Q.getAllBar().then((function(t){var a=t.data;e.setState({bars:a})})).catch((function(e){return console.log(e)}))},e.state={bars:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.refreshBars()}},{key:"render",value:function(){return Object(w.jsxs)(F.a,{children:[Object(w.jsx)("h1",{children:"Listado de Bares"}),Object(w.jsx)("div",{className:"barList",children:Object(w.jsx)(_,{refreshBars:this.refreshBars,bars:this.state.bars})})]})}}]),a}(r.Component),z=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),r.barservice.createBar(r.state).then((function(e){r.props.history.push("/bar")})).catch((function(e){return console.log(e)}))},r.handleInputChange=function(e){var t=e.currentTarget,a=t.name,n=t.value;r.setState(Object(A.a)({},a,n))},r.state={name:"",latitude:void 0,longitude:void 0,image:""},r.barservice=new L,r.mapservice=new D,r}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){e.selectedLocation!==this.props.selectedLocation&&(this.setState(Object(i.a)(Object(i.a)({},this.state),{},{latitude:this.props.selectedLocation.latitude,longitude:this.props.selectedLocation.longitude})),console.log("heyyyyyyyyyyyyyy"))}},{key:"render",value:function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("p",{children:"Toca en el mapa donde quieres situar el nuevo bar"}),Object(w.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(w.jsxs)("form",{controlId:"title",children:[Object(w.jsx)("label",{children:"Name"}),Object(w.jsx)("input",{onChange:this.handleInputChange,value:this.state.title,name:"name",type:"text"})]}),Object(w.jsxs)("form",{className:"mb-3",controlId:"imageUrl",children:[Object(w.jsx)("label",{children:"Url de la imagen"}),Object(w.jsx)("input",{onChange:this.handleInputChange,value:this.state.imageUrl,name:"image",type:"text"})]}),Object(w.jsx)("button",{variant:"primary",type:"submit",children:"Enviar"})]})]})}}]),a}(r.Component),G=a(91),K=a(49),H=a(90),Z=function e(){var t=this;Object(o.a)(this,e),this.getAllReviews=function(e){return t.app.get("/all/".concat(e))},this.getOneReview=function(e){return t.app.get("/review/".concat(e))},this.createReview=function(e){return t.app.post("/new",e)},this.app=p.a.create({baseURL:"".concat("https://trip-n-birra.herokuapp.com/api","/review")})},J=function e(){var t=this;Object(o.a)(this,e),this.uploadImage=function(e){return t.app.post("/image",e)},this.app=p.a.create({baseURL:"".concat("https://trip-n-birra.herokuapp.com/api","/upload")})},W=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),r.reviewService.createReview(r.state).then((function(e){r.props.history.push("/")})).catch((function(e){return console.log(e)}))},r.handleToggleButton=function(e,t){r.setState(Object(A.a)({},t,e))},r.handleUploadChange=function(e){r.setState();var t=new FormData;t.append("image",e.target.files[0]),r.uploadService.uploadImage(t).then((function(e){r.setState({image:e.data.cloudinary_url})})).catch((function(e){return console.log(e)}))},r.state={bar:r.props.match.params.id,comment:"",image:"",drink:"",tapa:"",price:"",quality:"",rating:""},r.barService=new L,r.reviewService=new Z,r.barService=new L,r.uploadService=new J,r}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(w.jsxs)("h2",{children:["\xbfQu\xe9 tal ha ido tu experiencia de tapeo? ",this.state.bar," "]}),Object(w.jsx)("hr",{}),Object(w.jsx)("h3",{children:"\xbfQU\xc9 TE HAS TOMADO?"}),Object(w.jsxs)(G.a,{type:"radio",name:"drink",onChange:function(t){return e.handleToggleButton(t,"drink")},children:[Object(w.jsxs)(K.a,{id:"drink-btn-1",value:"CERVEZA",children:[Object(w.jsx)("img",{src:"",alt:""}),"Cerveza"]}),Object(w.jsx)(K.a,{id:"drink-btn-2",value:"VINO",children:"Vino"}),Object(w.jsx)(K.a,{id:"drink-btn-3",value:"REFRESCO",children:"Refresco"}),Object(w.jsx)(K.a,{id:"drink-btn-4",value:"OTRO",children:"Otros"})]}),Object(w.jsx)("hr",{}),Object(w.jsx)("h3",{children:"\xbfQU\xc9 TE HAN PUESTO DE TAPA?"}),Object(w.jsxs)(G.a,{type:"radio",name:"tapa",onChange:function(t){return e.handleToggleButton(t,"tapa")},children:[Object(w.jsx)(K.a,{id:"tapa-btn-1",value:"FRUTOS SECOS (PIPAS, KIKOS, PATATAS...",children:"Frutos Secos (Pipas, kikos, Patatas...)"}),Object(w.jsx)(K.a,{id:"tapa-btn-2",value:"OLIVAS",children:"Olivas"}),Object(w.jsx)(K.a,{id:"tapa-btn-3",value:"FRITOS (NUGUETS, CROQUETAS...)",children:"Fritos (Nuguets, Croquetas...)"}),Object(w.jsx)(K.a,{id:"tapa-btn-4",value:"PINCHOS",children:"Pinchos"}),Object(w.jsx)(K.a,{id:"tbg-btn-5",value:"OTROS",children:"Otros"})]}),Object(w.jsx)("hr",{}),Object(w.jsx)("h3",{children:"\xbfQU\xc9 TE HA PARECIDO EL PRECIO?"}),Object(w.jsxs)(G.a,{type:"radio",name:"price",onChange:function(t){return e.handleToggleButton(t,"price")},children:[Object(w.jsx)(K.a,{id:"price-btn-1",value:"CARO",children:"Pasad\xedsimo"}),Object(w.jsx)(K.a,{id:"price-btn-2",value:"CORRECTO",children:"Todo bien"}),Object(w.jsx)(K.a,{id:"price-btn-3",value:"BARATO",children:"\xa1Tirado!"})]}),Object(w.jsx)("hr",{}),Object(w.jsx)("h3",{children:"\xbfQU\xc9 TAL LA CALIDAD DE LA TAPA?"}),Object(w.jsxs)(G.a,{type:"radio",name:"quality",onChange:function(t){return e.handleToggleButton(t,"quality")},children:[Object(w.jsx)(K.a,{id:"quality-btn-1",value:"MALA",children:"Mala"}),Object(w.jsx)(K.a,{id:"quality-btn-2",value:"BUENA",children:"Buena"})]}),Object(w.jsx)("hr",{}),Object(w.jsxs)(H.a.Group,{controlId:"image",children:[Object(w.jsxs)(H.a.Label,{children:[" ",Object(w.jsx)("h3",{children:"\xa1Sube una foto de tu tapa!"})]}),Object(w.jsx)(H.a.Control,{onChange:this.handleUploadChange,name:"image",type:"file"})]}),Object(w.jsx)("hr",{}),Object(w.jsx)(E.a,{variant:"primary",type:"submit",children:"Enviar rese\xf1a"}),Object(w.jsx)("hr",{})]})})}}]),a}(r.Component),X=a(89),Y=a(50);var $=function(e){return e.review,Object(w.jsx)(q.a,{style:{width:"18rem"}})};var ee=function(e){var t=e.reviews;return Object(w.jsx)(w.Fragment,{children:t.map((function(e){return Object(w.jsx)($,{review:e},e._id)}))})},te=function e(){var t=this;Object(o.a)(this,e),this.getAllUser=function(){return t.app.get("/allUser")},this.getOneUser=function(){return t.app.get("/one")},this.userPage=function(e,a,r,n){return t.app.get("/userprofile",{username:e,email:a,image:r,favorites:n})},this.addUserFav=function(e){return t.app.put("/add-favorites",{barId:e})},this.app=p.a.create({baseURL:"".concat("https://trip-n-birra.herokuapp.com/api","/user"),withCredentials:!0})},ae=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this)).addFavorites=function(){r.userService.addUserFav(r.state._id).then((function(e){r.props.storeUser(e.data),r.props.history.push("/userprofile")})).catch((function(e){return console.log(e)}))},r.state={_id:"",name:"",location:void 0,image:"",reviews:[],drinksArray:[],tapasArray:[],pricesArray:[],qualitiesArray:[],drinks:{},tapas:{},price:{},quality:{},topDrink:"",topTapa:"",topPrice:"",topQuality:""},r.barService=new L,r.reviewService=new Z,r.userService=new te,r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getBarDetails()}},{key:"componentDidUpdate",value:function(e){e.match.params.id!==this.props.match.params.id&&this.getBarDetails()}},{key:"getBarDetails",value:function(){var e=this,t=this.props.match.params.id;this.barService.getOneBar(t).then((function(t){var a=t.data,r=a._id,n=a.name,s=a.location,c=a.image,i=a.reviewImage;e.setState({_id:r,name:n,location:s,image:c,reviewImage:i})})).catch((function(e){return console.log(e)})),this.reviewService.getAllReviews(t).then((function(t){var a=t.data;e.setState(Object(i.a)(Object(i.a)({},e.state),{},{reviews:a}))})).then((function(){e.state.reviews.forEach((function(t){e.state.drinksArray.push(t.drink),e.state.tapasArray.push(t.tapa),e.state.pricesArray.push(t.price),e.state.qualitiesArray.push(t.quality)}));var t={cerveza:0,Vino:0,refresco:0,otros:0};e.state.drinksArray.forEach((function(e){"REFRESCO"===e?t.refresco++:"CERVEZA"===e?t.cerveza++:"VINO"===e?t.Vino++:t.otros++})),e.setState(Object(i.a)(Object(i.a)({},e.state),{},{drinks:t}));var a={"Frutos Secos":0,Olivas:0,Fritos:0,Pinchos:0,Otros:0};e.state.tapasArray.forEach((function(e){"FRUTOS SECOS (PIPAS, KIKOS, PATATAS..."===e?a["Frutos Secos"]++:"OLIVAS"===e?a.Olivas++:"FRITOS (NUGUETS, CROQUETAS...)"===e?a.Fritos++:"PINCHOS"===e?a.Pinchos++:a.Otros++})),e.setState(Object(i.a)(Object(i.a)({},e.state),{},{tapas:a}));var r={mala:0,buena:0};e.state.qualitiesArray.forEach((function(e){"MALA"===e?r.mala++:r.buena++})),e.setState(Object(i.a)(Object(i.a)({},e.state),{},{quality:r}));var n={mal:0,normal:0,bien:0};e.state.pricesArray.forEach((function(e){"CARO"===e?n.mal++:"CORRECTO"===e?n.normal++:n.bien++})),e.setState(Object(i.a)(Object(i.a)({},e.state),{},{price:n}));var s=Object.keys(e.state.drinks).reduce((function(t,a){return e.state.drinks[t]>e.state.drinks[a]?t:a}));e.setState(Object(i.a)(Object(i.a)({},e.state),{},{topDrink:s}));var c=Object.keys(e.state.tapas).reduce((function(t,a){return e.state.tapas[t]>e.state.tapas[a]?t:a}));e.setState(Object(i.a)(Object(i.a)({},e.state),{},{topTapa:c}));var o=Object.keys(e.state.price).reduce((function(t,a){return e.state.price[t]>e.state.price[a]?t:a}));e.setState(Object(i.a)(Object(i.a)({},e.state),{},{topPrice:o}));var l=Object.keys(e.state.quality).reduce((function(t,a){return e.state.quality[t]>e.state.quality[a]?t:a}));e.setState(Object(i.a)(Object(i.a)({},e.state),{},{topQuality:l}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.name,a=(e.image,e._id);return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(F.a,{children:[Object(w.jsx)("h2",{children:"DETALLES"}),Object(w.jsxs)(X.a,{className:"justify-content-around",children:[Object(w.jsx)(Y.a,{md:6,style:{overflow:"hidden"},children:Object(w.jsxs)("article",{children:[Object(w.jsx)("h3",{children:t}),Object(w.jsxs)("div",{children:[Object(w.jsx)("hr",{}),Object(w.jsxs)("p",{children:["Lo m\xe1s pedido: ",this.state.topDrink," "]}),Object(w.jsx)("hr",{}),Object(w.jsxs)("p",{children:["La tapa m\xe1s puesta: ",this.state.topTapa," "]}),Object(w.jsx)("hr",{}),Object(w.jsxs)("p",{children:["Calidad: ",this.state.topPrice," "]}),Object(w.jsx)("hr",{}),Object(w.jsxs)("p",{children:["Precio: ",this.state.topQuality," "]}),Object(w.jsx)("hr",{})]})]})}),Object(w.jsx)(Y.a,{md:4})]}),Object(w.jsx)(h.b,{to:"/review/new/".concat(a),children:Object(w.jsx)(E.a,{variant:"primary",children:"Escribir rese\xf1a"})}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)(E.a,{variant:"primary",onClick:this.addFavorites,children:"A\xf1adir a favoritos"}),Object(w.jsx)(ee,{reviews:this.state.reviews})]})})}}]),a}(r.Component),re=(a(85),a.p+"static/media/avatarprov.d3e6b2e5.jpg"),ne=function(e){var t=e.loggedUser,a=(t._id,t.username),r=t.email,n=(t.image,t.favorites);return console.log(t),Object(w.jsxs)(q.a,{className:"user-card",style:{width:"18rem"},children:[Object(w.jsx)("img",{src:re,alt:"Avatar"}),Object(w.jsxs)(q.a.Body,{children:[Object(w.jsxs)(q.a.Title,{children:["\xa1Bienvenido ",a,"!"]}),Object(w.jsxs)(q.a.Text,{children:["Estas registrado con el correo ",r]}),Object(w.jsxs)(q.a.Text,{children:[Object(w.jsx)("h3",{children:"Tus bares"}),n.map((function(e){return Object(w.jsx)("p",{children:e.name})}))]})]})]})},se=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this)).refreshUser=function(){r.service.getOneUser().then((function(e){var t=e.data;r.props.storeUser(t)})).catch((function(e){return console.log(e)}))},r.service=new te,r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.refreshUser()}},{key:"render",value:function(){return Object(w.jsx)(F.a,{children:Object(w.jsx)(ne,{loggedUser:this.props.loggedUser})})}}]),a}(r.Component),ce=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).storeUser=function(e){r.setState(Object(i.a)(Object(i.a)({},r.state),{},{loggedUser:e}))},r.storeSelectedLocation=function(e,t){r.setState(Object(i.a)(Object(i.a)({},r.state),{},{selectedLocation:{latitude:e,longitude:t}}))},r.state={loggedUser:void 0,selectedLocation:{}},r.authService=new O,r.userPage=new se,r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.authService.isloggedin().then((function(t){return e.storeUser(t.data)})).catch((function(t){return e.storeUser(null)}))}},{key:"render",value:function(){var e=this;return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"transparentBG",id:"App",children:[Object(w.jsx)(C,{storeUser:this.storeUser,loggedUser:this.state.loggedUser,pageWrapId:"page-wrap",outerContainerId:"App"}),Object(w.jsxs)("main",{children:[this.state.loggedUser?Object(w.jsxs)(d.d,{children:[Object(w.jsx)(d.b,{exact:!0,path:"/bar",render:function(t){return Object(w.jsx)(V,Object(i.a)(Object(i.a)({},t),{},{storeUser:e.storeUser}))}}),Object(w.jsx)(d.b,{exact:!0,path:"/bar/new",render:function(t){return Object(w.jsx)(z,Object(i.a)(Object(i.a)({},t),{},{storeUser:e.storeUser,selectedLocation:e.state.selectedLocation}))}}),Object(w.jsx)(d.b,{exact:!0,path:"/bar/:id",render:function(t){return Object(w.jsx)(ae,Object(i.a)(Object(i.a)({},t),{},{storeUser:e.storeUser}))}}),Object(w.jsx)(d.b,{path:"/userprofile",render:function(t){return Object(w.jsx)(se,Object(i.a)(Object(i.a)({},t),{},{loggedUser:e.state.loggedUser,storeUser:e.storeUser}))}}),Object(w.jsx)(d.b,{exact:!0,path:"/review/new/:id",render:function(t){return Object(w.jsx)(W,Object(i.a)(Object(i.a)({},t),{},{storeUser:e.storeUser}))}})]}):Object(w.jsxs)(d.d,{children:[Object(w.jsx)(d.b,{path:"/signup",render:function(t){return Object(w.jsx)(k,Object(i.a)(Object(i.a)({},t),{},{storeUser:e.storeUser}))}}),Object(w.jsx)(d.b,{path:"/login",render:function(t){return Object(w.jsx)(T,Object(i.a)(Object(i.a)({},t),{},{storeUser:e.storeUser}))}}),Object(w.jsx)(d.a,{to:"/"})]}),Object(w.jsx)("div",{children:Object(w.jsx)(D,{storeSelectedLocation:this.storeSelectedLocation})})]})]})})}}]),a}(r.Component);d.b;var ie=ce;a(86);c.a.render(Object(w.jsx)(n.a.StrictMode,{children:Object(w.jsx)(h.a,{children:Object(w.jsx)(ie,{})})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.434f4ab1.chunk.js.map